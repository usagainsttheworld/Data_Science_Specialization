library (swirl)
swirl()
filter(cran,r_version=="3.1.1",country=="US")
?comparison
?Comparison
cran
filter(cran,r_version=<"3.1.1",country=="IN")
filter(cran,r_version=<"3.0.2",country=="IN")
filter(cran,r_version<="3.0.2",country=="IN")
filter(cran, country=="US" | country=="IN")
filter(cran, size>100500, r_os=="linux-gnu")
is.na(c(3,5,NA,10))
!is.na(c(3,5,NA,10))
filter(cran,!is.na(r_version))
cran2<-select(size:ip_id)
cran2<-select(cran,size:ip_id)
arrange(cran2,ip_id)
arrange(cran2,desc(ip_id))
arrange(cran2,package,ip_id)
arrange(cran2,country,desc(r_version),ip_id)
cran3<-select(cran2,ip_id,package,size)
cran3<-select(cran,ip_id,package,size)
cran3
mutate(cran3,size_mb=size/2^20)
mutate(cran3,size_mb=size/2^20,size_gb=size/2^10)
mutate(cran3,size_mb=size/2^20,size_gb=size_mb/2^10)
mutate(cran3,correct_size=size-1000)
mutate(cran3,correct_size=size+1000)
summarize(cran,avg_bytes=mean(size))
library(dplyr)
cran<-tbl_df()
cran<-tbl_df(mydf)
rm("mydf")
cran
?group_by()
?group_by
by_package<-gourp_by(cran)
by_package<-gourp_by(cran,package)
by_package<-group_by(cran,package)
by_package
summarize(by_package,mean(size))
submit()
library(swirl)
swirl()
View(top_counts)
arrange(top_counts,count)
arrange(top_counts,count)
bye()
swirl()
View(top_counts_sorted)
quantile(pack_sum$unique,probs=0.99)
top_unique<-filter(pack_sum,unique>465)
View(top_unique)
arrange(top_unique,desc(unique)
)
top_unique_sorted<-arrange(top_unique,desc(unique))
View()
View(top_unique_sorted)
submit()
submit()
byez9
bye()
swirl()
View(result3)
install.packages("e1071")
set.seed(3523)
library(AppliedPredictiveModeling)
library(e1071)
library(carret)
data(concrete)
inTrain = createDataPartition(concrete$CompressiveStrength, p = 3/4)[[1]]
training = concrete[ inTrain,]
testing = concrete[-inTrain,]
set.seed(325)
set.seed(3523)
library(AppliedPredictiveModeling)
library(e1071)
library(caret)
data(concrete)
inTrain = createDataPartition(concrete$CompressiveStrength, p = 3/4)[[1]]
training = concrete[ inTrain,]
testing = concrete[-inTrain,]
set.seed(325)
?e1071
?prdict.svm
?predict.svm
?svm
library(caret)
data(concrete)
inTrain = createDataPartition(concrete$CompressiveStrength, p = 3/4)[[1]]
training = concrete[ inTrain,]
testing = concrete[-inTrain,]
set.seed(325)
training_svm<-svm(training)
predict.svm(training_svm)
predict.svm(training_svm)
library(caret)
library(e1071)
data(concrete)
inTrain = createDataPartition(concrete$CompressiveStrength, p = 3/4)[[1]]
training = concrete[ inTrain,]
testing = concrete[-inTrain,]
set.seed(325)
training_svm<-svm(training)
predict.svm(training_svm)
?svm
set.seed(325)
modfit<-svm(CompressiveStrength~., data=training)
prediction<-predict(modfit, testing)
confusionMatrix(prediction, testing$CompressiveStrength)
confusionMatrix(prediction, testing$CompressiveStrength)
predict(modfit, testing)
prediction<-predict(modfit, testing)
confusionMatrix(prediction, testing$CompressiveStrength)
set.seed(3523)
library(AppliedPredictiveModeling)
library(e1071)
library(caret)
library(e1071)
data(concrete)
inTrain = createDataPartition(concrete$CompressiveStrength, p = 3/4)[[1]]
training = concrete[ inTrain,]
testing = concrete[-inTrain,]
set.seed(325)
modfit<-train(CompressiveStrength~., data=training)
set.seed(3523)
library(AppliedPredictiveModeling)
library(e1071)
library(caret)
library(e1071)
data(concrete)
inTrain = createDataPartition(concrete$CompressiveStrength, p = 3/4)[[1]]
training = concrete[ inTrain,]
testing = concrete[-inTrain,]
set.seed(325)
modfit<-cvm(CompressiveStrength~., data=training)
prediction<-predict(modfit, testing)
confusionMatrix(prediction, testing$CompressiveStrength)
?cvm
set.seed(3523)
library(AppliedPredictiveModeling)
library(e1071)
library(caret)
library(e1071)
data(concrete)
inTrain = createDataPartition(concrete$CompressiveStrength, p = 3/4)[[1]]
training = concrete[ inTrain,]
testing = concrete[-inTrain,]
set.seed(325)
modfit<-svm(CompressiveStrength~., data=training)
prediction<-predict(modfit, testing)
confusionMatrix(prediction, testing$CompressiveStrength)
dim(prediction)
class(prediction)
str(prediction)
str(testing$CompressiveStrength)
?confusitonMatrix
?confusionMatrix
class(prediction)
class(testing$CompressiveStrength)
dim(testing$CompressiveStrength)
dim(prediction)
accuracy(prediction, testing$CompressiveStrength)
library(forecast)
accuracy(prediction, testing$CompressiveStrength)
sqrt2*2-2
sqrt2
8-9
sqrt2
?sqrt
sqrt(2)
sqrt(2)*2-2
names(pm25)
names(pm25)
pm25<-subset(rawdata, select = -c(Pollutant))
setwd("~/Desktop/Coursera/Exploratory2_PM25")
rawdata<-readRDS("summarySCC_PM25.rds")
rawscc<-readRDS("Source_Classification_Code.rds")
#============================================
#Cleaning data
#Convert "year", "type", and "Pollutant" variables into factor variable
rawdata$year<-as.factor(rawdata$year)
rawdata$type<-as.factor(rawdata$type)
rawdata$Pollutant<-as.factor(rawdata$Pollutant)
summary(rawdata)
#It's been noticed that "Polutant" variable has no various (only one value through the dataset) so it was removed from the data set.
pm25<-subset(rawdata, select = -c(Pollutant))
library(dplyr)
library(ggplot2)
names(pm25)
head(pm25)
year_pm25<-pm25 %>%
group_by(year) %>%
summarize(yearsum=sum(Emissions))
year_pm25
ggplot(year_pm25, aes(year, yearsum)) + geom_bar(stat= "identity") +labs (title = "PM2.5 in the United States from 1999 to 2008")
?ggpot
?ggplot
?plot
plot(year_pm25, yearsum, pch=20)
plot(year_pm25, year~yearsum)
?plot
plot(year_pm25, year~yearsum, type=p)
plot(year_pm25, year~yearsum, type="p", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
plot(year_pm25, year~yearsum, type="s", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
plot(year_pm25$year, year_pm25$yearsum, main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
plot(year_pm25$year, year_pm25$yearsum, type="o", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
plot(year_pm25$yearsum, type="o", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
plot(year_pm25$year, year_pm25$yearsum, type="o", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
plot(year_pm25$year, year_pm25$yearsum, main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
hist(year_pm25$yearsum, year_pm25$year, main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
hist(year_pm25$yearsum, year_pm25$year)
hist(year_pm25, yearsum)
class(year_pm25$yearsum)
?hist
plot(year_pm25$year, year_pm25$yearsum, type="o", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
plot(year_pm25$year, year_pm25$yearsum, type="l", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
?plot
plot(year_pm25$year, year_pm25$yearsum, type="n", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
plot(year_pm25$year, year_pm25$yearsum, type="l", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
year_pm25
plot(year_pm25$yearsum, type="o", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
?barplot
barplot(year_pm25$yearsum, name.arg=year_pm25$year, main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
barplot(year_pm25$yearsum, name.arg=year_pm25$year, main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
barplot(year_pm25$yearsum, name.arg = year_pm25$year, main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
barplot(year_pm25$yearsum, names.arg = year_pm25$year, main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
plot(year_pm25$yearsum, main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
plot(year_pm25$yearsum, main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5")
plot(names(year_pm25$year), year_pm25$yearsum, type="l", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5", x )
plot(year_pm25$year, year_pm25$yearsum, type="l", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5", x )
class(year_pm25$year)
plot(as.character(year_pm25$year), year_pm25$yearsum, type="l", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5", x )
year_pm25$year<-as.character(year_pm25$year)
plot(year_pm25$year, year_pm25$yearsum, type="l", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5", x )
year_pm25<-pm25 %>%
group_by(year) %>%
summarize(yearsum=sum(Emissions))
plot(year_pm25, type="l", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5", x )
plot(year_pm25$year, year_pm25$yearsum, type="l", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5", x )
?hist
hist(year_pm25$yearsum)
?barplot
barplot(year_pm25$yearsum)
barplot(year_pm25$yearsum, space = NULL)
barplot(year_pm25$yearsum, space = 1)
barplot(year_pm25$yearsum)
year_pm25$year
barplot(year_pm25$yearsum, names.arg = year_pm25$year)
barplot(year_pm25$yearsum, names.arg = year_pm25$year, col = "lightblue", main="PM2.5 in the United States from 1999 to 2008", xlab="Year", ylab="PM2.5" )
dev.copy(png, file="plot1.png", width=480, height=480, units="px")
dev.off()
names(pm25)
calss"fips"
class"fips"
class(fips)
class(pm25$fips)
baltimore_pm25<-pm25 %>%
filter(fips == "24510")
group_by(year) %>%
summarize(bal_yearsum=sum(Emissions))
baltimore_pm25<-pm25 %>%
filter(fips == "24510") %>%
group_by(year) %>%
summarize(bal_yearsum=sum(Emissions))
barplot(baltimore_pm25$bal_yearsum, names.arg = year_pm25$year, col = "lightblue", main="PM2.5 level in Baltimore from 1999 to 2008", xlab="Year", ylab="PM2.5" )
barplot(baltimore_pm25$bal_yearsum, names.arg = year_pm25$year, col = "cyan", main="PM2.5 level in Baltimore from 1999 to 2008", xlab="Year", ylab="PM2.5" )
barplot(baltimore_pm25$bal_yearsum, names.arg = year_pm25$year, col = "red", shade=0.5, main="PM2.5 level in Baltimore from 1999 to 2008", xlab="Year", ylab="PM2.5" )
barplot(baltimore_pm25$bal_yearsum, names.arg = year_pm25$year, col = "cyan", shade=0.5, main="PM2.5 level in Baltimore from 1999 to 2008", xlab="Year", ylab="PM2.5" )
baltimore_pm25
barplot(baltimore_pm25$bal_yearsum, names.arg = year_pm25$year, col = "cyan", shade=0.5, main="PM2.5 level in Baltimore from 1999 to 2008", xlab="Year", ylab="PM2.5" )
dev.copy(png, file="plot2.png", width=480, height=480, units="px")
dev.off()
library(ggplot)
library(ggplot2)
names(pm25)
str(pm25)
baltimore_pm25<-pm25 %>%
filter(fips == "24510") %>%
group_by(type) %>%
group_by(year) %>%
summarize(bal_yearsum=sum(Emissions))
baltimore_type_pm25<-pm25 %>%
filter(fips == "24510") %>%
group_by(type) %>%
group_by(year) %>%
summarize(bal_type_yearsum=sum(Emissions))
baltimore_type_pm25
baltimore_type_pm25<-pm25 %>%
filter(fips == "24510") %>%
group_by(type, year) %>%
summarize(bal_type_yearsum=sum(Emissions))
baltimore_type_pm25
baltimore_type_pm25
?qplot
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, facets = .~type )
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, facets = .~type, binwidth = 2 )
?qplot
?binwidth
??binwidth
q<-qplot(year, bal_type_yearsum, data = baltimore_type_pm25, facets = .~type, binwidth = 2 )
q + geom_smooth(method="lm")
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, geom="smooth", method="lm", facets = .~type)
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, geom=c("point", "smooth"), method="lm", facets = .~type)
ggplot(data=baltimore_type_pm25, aes(x=year, y=bal_type_yearsum)) + facet_grid(.~type) + geom_line()
ggplot(data=baltimore_type_pm25, aes(x=year, y=bal_type_yearsum)) + facet_wrap(.~type) + geom_line()
ggplot(data=baltimore_type_pm25, aes(x=year, y=bal_type_yearsum)) + facet_wrap(~type) + geom_line()
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, geom="line", facets = .~type)
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, facets = .~type)
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, facets = .~type, geom="line")
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, facets = .~type, geom="line")
?qplot
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, facets = .~type, geom="path")
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, facets = .~type, main="Difference between 4 source types of PM2.5 emissions from 1999–2008 in Baltimore")
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, facets = .~type, color=type, main="Difference between 4 source types of PM2.5 emissions from 1999–2008 in Baltimore")
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, facets = .~type, main="Difference between 4 source types of PM2.5 emissions from 1999–2008 in Baltimore")
dev.copy(png, file="plot3.png", width=480, height=480, units="px")
dev.off()
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, facets = .~type, main="PM2.5 emissions from 1999–2008 in Baltimore by Type")
qplot(year, bal_type_yearsum, data = baltimore_type_pm25, facets = .~type, main="PM2.5 emissions from 1999–2008 in Baltimore by Source type")
dev.copy(png, file="plot3.png", width=480, height=480, units="px")
dev.off()
scc<-subset(rawscc, select = c(SCC, Short.Name, EI.Sector, SCC.Level.One, SCC.Level.Two, SCC.Level.Three, SCC.Level.Four))
dim(scc)
names(scc)
head(EI.Sector)
head(scc$EI.Sector)
head(scc)
names(scc)
table(grepl("Coal", scc$Short.Name))
table(grepl("Coal", scc$Short.Name))
table(grepl("Coal", scc$EI.Sector))
table(grepl("Coal", scc$SCC.Level.One))
table(grepl("Coal", scc$SCC.Level.Two))
table(grepl("Coal", scc$SCC.Level.Three))
table(grepl("Coal", scc$SCC.Level.Four))
Coal_notin_shortName<-scc[!grepl("Coal", scc$Short.Name), ]
table(grepl("Coal", Coal_notin_shortName$EI.Sector))
table(grepl("Coal", Coal_notin_shortName$SCC.Level.Three))
table(grepl("Coal", Coal_notin_shortName$SCC.Level.Four))
grep("Coal", Coal_notin_shortName$EI.Sector, value=T)
grep("Coal", Coal_notin_shortName$EI.Sector)
extr_EI_coal<-grep("Coal", Coal_notin_shortName$EI.Sector)
Coal_notin_shortName[extr_EI_coal, ]
Coal_notin_shortName[1, ]
Coal_notin_EI<-scc[!grepl("Coal", scc$EI.Sector), ]
Coal_notin_EI<-scc[!grepl("Coal", scc$EI.Sector), ]
table(grepl("Coal", Coal_notin_EI$Short.Name))
grep("Coal", Coal_notin_EI$Short.Name, value=T)
table(grepl("Coal", scc$Short.Name))
grepl("Coal", scc$Short.Name)
grep("Coal", scc$Short.Name)
grep("Coal", Coal_notin_shortName$EI.Sector)
grep("Coal", Coal_notin_shortName$EI.Sector, value=T)
grep("Coal", Coal_notin_shortName$EI.Sector)
Coal_notin_shortName[grep("Coal", Coal_notin_shortName$EI.Sector), ]
Coal_notin_shortName[grep("Coal", Coal_notin_shortName$EI.Sector), ]$SCC
Coal_notin_shortName[grep("Coal", Coal_notin_shortName$EI.Sector), ]
EIrow_coal<-Coal_notin_shortName[grep("Coal", Coal_notin_shortName$EI.Sector), ]
class(EIrow_coal)
EIrow_coal$SCC
dim(EIrow_coal)
str(EIrow_coal)
EIrow_coal$SCC<-as.character(EIrow_coal$SCC)
str(EIrow_coal)
EIrow_coal$SCC
grep("Coal", scc$Short.Name)
SNrow_coal<-scc[grep("Coal", scc$Short.Name), ]
dim(SNrow_coal)
str(SNrow_coal)
SNrow_coal$SCC<-as.character(SNrow_coal$SCC)
SNrow_coal$SCC
EIrow_coal$SCC
class(EIrow_coal$SCC)
head(pm25)
str(pm25)
coal_year_pm25<-pm25 %>%
filter(SCC == SNrow_coal$SCC & SCC == EIrow_coal$SCC) %>%
group_by(year) %>%
summarize(coal_yearsum=sum(Emissions))
SNrow_coal$SCC
dim(SNrow_coal$SCC)
class(SNrow_coal$SCC)
length(SNrow_coal$SCC)
EIrow_coal$SCC
class(EIrow_coal$SCC)
qplot(year, coal_yearsum, data = coal_year_pm25, main="PM2.5 of Coal emissions from 1999–2008 in the U.S.")
coal_year_pm25<-pm25 %>%
filter(SCC == SNrow_coal$SCC) %>%
group_by(year) %>%
summarize(coal_yearsum=sum(Emissions))
qplot(year, coal_yearsum, data = coal_year_pm25, main="PM2.5 of Coal emissions from 1999–2008 in the U.S.")
coal_year_pm25<-pm25 %>%
filter(SCC %in% SNrow_coal$SCC) %>%
group_by(year) %>%
summarize(coal_yearsum=sum(Emissions))
qplot(year, coal_yearsum, data = coal_year_pm25, main="PM2.5 of Coal emissions from 1999–2008 in the U.S.")
coal_year_pm25<-pm25 %>%
filter(SCC %in% SNrow_coal$SCC & SCC %in% EIrow_coal$SCC ) %>%
group_by(year) %>%
summarize(coal_yearsum=sum(Emissions))
qplot(year, coal_yearsum, data = coal_year_pm25, main="PM2.5 of Coal emissions from 1999–2008 in the U.S.")
coal_year_pm25<-pm25 %>%
filter(SCC %in% SNrow_coal$SCC | SCC %in% EIrow_coal$SCC ) %>%
group_by(year) %>%
summarize(coal_yearsum=sum(Emissions))
#To make panel plot (one plot for each type so there will be 4 plots).
qplot(year, coal_yearsum, data = coal_year_pm25, main="PM2.5 of Coal emissions from 1999–2008 in the U.S.")
barplot(coal_year_pm25$coal_yearsum, names.arg = year_pm25$year, col = "red", main="PM2.5 from coal related sources in the U.S. from 1999 to 2008", xlab="Year", ylab="PM2.5" )
barplot(coal_year_pm25$coal_yearsum, names.arg = year_pm25$year, main="PM2.5 from coal related sources in the U.S. from 1999 to 2008", xlab="Year", ylab="PM2.5" )
barplot(coal_year_pm25$coal_yearsum, names.arg = year_pm25$year, col = "black", main="PM2.5 from coal related sources in the U.S. from 1999 to 2008", xlab="Year", ylab="PM2.5" )
barplot(coal_year_pm25$coal_yearsum, names.arg = year_pm25$year, main="PM2.5 from coal related sources in the U.S. from 1999 to 2008", xlab="Year", ylab="PM2.5" )
barplot(coal_year_pm25$coal_yearsum, names.arg = year_pm25$year, main="PM2.5 from COAL related sources in the U.S. from 1999 to 2008", xlab="Year", ylab="PM2.5" )
dev.copy(png, file="plot4.png", width=480, height=480, units="px")
dev.off()
barplot(coal_year_pm25$coal_yearsum, names.arg = year_pm25$year, main="PM2.5 COAL in U.S. from 1999 to 2008", xlab="Year", ylab="PM2.5" )
#The above plot is about the PM2.5 emissions from COAL related sources in U.S. from 1999 to 2008. As we can see, the emission went smoothly from 1999 to 2005 following by a shape decrease between 2005 and 2008.
#==============================================
#Save plot in PNG file.
dev.copy(png, file="plot4.png", width=480, height=480, units="px")
dev.off()
barplot(coal_year_pm25$coal_yearsum, names.arg = year_pm25$year, main="PM2.5 from COAL in U.S. from 1999 to 2008", xlab="Year", ylab="PM2.5" )
#The above plot is about the PM2.5 emissions from COAL related sources in U.S. from 1999 to 2008. As we can see, the emission went smoothly from 1999 to 2005 following by a shape decrease between 2005 and 2008.
#==============================================
#Save plot in PNG file.
dev.copy(png, file="plot4.png", width=480, height=480, units="px")
dev.off()
barplot(coal_year_pm25$coal_yearsum, names.arg = year_pm25$year, main="PM2.5 from COAL in the U.S. from 1999 to 2008", xlab="Year", ylab="PM2.5" )
#The above plot is about the PM2.5 emissions from COAL related sources in U.S. from 1999 to 2008. As we can see, the emission went smoothly from 1999 to 2005 following by a shape decrease between 2005 and 2008.
#==============================================
#Save plot in PNG file.
dev.copy(png, file="plot4.png", width=480, height=480, units="px")
dev.off()
